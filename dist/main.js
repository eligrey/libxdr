(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){if(!this.XDR){this.XDR=function(){};XDR.prototype={open:function(method,uri,async){if(async===false)throw new RangeError("XDR.open: libxdr does not support synchronous requests.");this._request={method:method,uri:uri,headers:{}}},setRequestHeader:function(header,value){this._request.headers[header.toLowerCase()]=value},removeRequestHeader:function(header){delete this._request.headers[header.toLowerCase()]},send:function(data){var instance=this;instance._request.data=data;instance._request.callback=function(response){instance.readyState=4;if(response.error){if(response.error=="LOAD_ERROR"){instance.status=502;instance.statusText="Bad Gateway"}else if(response.error=="DISALLOWED_REQUEST_METHOD"){instance.status=405;instance.statusText="Method Not Allowed"}else if(response.error=="TIMEOUT"){instance.status=408;instance.statusText="Request Timeout"}else if(response.error=="DISALLOWED_ORIGIN"){instance.status=412;instance.statusText="Precondition Failed"}}else{if(response.status)instance.status=response.status;if(response.statusText)instance.statusText=response.statusText}if(!instance.status)instance.status=200;if(response.error||instance.status>=400){if(typeof instance.onloadend=="function")instance.onloadend();if(typeof instance.onerror=="function")return instance.onerror()}if(instance.status==408&&typeof instance.ontimeout=="function")return instance.ontimeout();if(!response.headers){response.headers={}}instance.contentType=response.headers["content-type"];var headers=[];for(var header in response.headers)if(response.headers.hasOwnProperty(header))headers.push(header+": "+response.headers[header]);headers=headers.join("\r\n");instance.getAllResponseHeaders=function(){return headers};instance.getResponseHeader=function(header){return response.headers[header.toLowerCase()]||null};var xml;if(/\/xml$/i.test(instance.contentType)||response.data.substr(0,5)=="<?xml"){try{if(window.DOMParser){xml=(new DOMParser).parseFromString(response.data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){xml=undefined}}instance.responseXML=xml;instance.responseText=response.data;if(typeof instance.onreadystatechange=="function")instance.onreadystatechange();if(typeof instance.onprogress=="function")instance.onprogress();if(typeof instance.onload=="function")instance.onload();if(typeof instance.onloadend=="function")instance.onloadend()};if(instance.timeout)instance._request.timeout=instance.timeout;else if(XDR.defaultTimeout)instance._request.timeout=XDR.defaultTimeout;var aborter=pmxdr.request(instance._request).abort;instance.abort=function(){aborter()}},abort:function(){delete this._request}}}},{}],2:[function(require,module,exports){"use strict";require("./pmxdr-host");require("./pmxdr-client");window.XHTMLHttpRequest=require("./libxdr")},{"./libxdr":1,"./pmxdr-client":3,"./pmxdr-host":4}],3:[function(require,module,exports){(function(){var window=this;if(typeof window.opera!="undefined"&&parseInt(window.opera.version())==9)Event.prototype.__defineGetter__("origin",function(){return"http://"+this.domain});function pmxdr(host,onload){var instance=this;instance.iFrame=document.createElement("iframe");instance.iFrame.style.display="none";instance.origin=host.replace(pmxdr.originRegex,"$1");function onloadHandler(){if(typeof instance.onload=="function")instance.onload()}if(instance.iFrame.addEventListener)instance.iFrame.addEventListener("load",onloadHandler,false);else if(instance.iFrame.attachEvent)instance.iFrame.attachEvent("onload",onloadHandler);instance.iFrame.src=instance.origin+pmxdr.getEndpoint(host);if(typeof onload=="function"){instance.onload=onload;instance.init()}}pmxdr.endpoints=[];pmxdr.originRegex=/^([\w-]+:\/*\[?[\w\.:-]+\]?(?::\d+)?).*/;pmxdr.request=function(req){if(typeof req=="string")return pmxdr.request({uri:req});else if(Object.prototype.toString.call(req)=="[object Array]"){var requests=[];for(var i=0;i<req.length;i++)requests.push(pmxdr.request(req[i]));return requests}var pmxdrInstance=new pmxdr(req.uri),callback=req.callback;req.id=pmxdr.getSafeID();req.callback=function(response){if(typeof callback=="function")callback.call(this,response);this.unload()};pmxdrInstance.onload=function(){this.request(req)};pmxdrInstance.init();return{abort:function(){pmxdr.requests.aborted[req.id]=true}}};pmxdr.interfaceFrameParent=document.documentElement||document.getElementsByTagName("head")[0]||document.body||document.getElementsByTagName("body")[0];pmxdr.getSafeID=function(){var randID=Math.random().toString().substr(2);if(typeof pmxdr.requests[randID]=="undefined")return randID;else return pmxdr.getSafeID()};pmxdr.getEndpoint=function(uri){var x,endpoint,endpoints=pmxdr.endpoints,length=endpoints.length;for(x=0;x<length;x++){endpoint=endpoints[x];if(typeof endpoint.origin==="string"){if(!uri.indexOf(endpoint.origin)){break}}else if(endpoint.origin.test(uri)){break}}return endpoint?endpoint.endpoint:"/pmxdr/api"};pmxdr.prototype={init:function(onload){if(typeof onload=="function")this.onload=onload;if(this.iFrame.parentNode)this.unload();pmxdr.interfaceFrameParent.appendChild(this.iFrame)},unload:function(){pmxdr.interfaceFrameParent.removeChild(this.iFrame)},defaultRequestMethod:"GET",request:function(req){var requests=[],instance=this;if(Object.prototype.toString.call(req)=="[object Array]"){for(var i=0;i<req.length;i++)requests.push(instance.request(req[i]));return requests}var id=(pmxdr.requests[req.id]?false:req.id)||pmxdr.getSafeID(),method=req.method||instance.defaultRequestMethod,timeout=req.timeout||instance.defaultTimeout,contentType=req.contentType||instance.defaultContentType;method=method.toUpperCase();pmxdr.requests[id]={origin:instance.origin,remove:function(){delete pmxdr.requests[id]},callback:function(response){if(typeof req.callback=="function")req.callback.call(instance,response);pmxdr.requests[id].remove()}};function timeoutCallback(){if(pmxdr.requests[id]&&pmxdr.requests[id].callback)pmxdr.requests[id].callback({pmxdr:true,id:id,error:"TIMEOUT"})}if(contentType){if(!req.headers)req.headers={};req.headers["Content-Type"]=contentType.toString()}instance.iFrame.contentWindow.postMessage(JSON.stringify({pmxdr:true,method:method,uri:req.uri,data:req.data,headers:req.headers,id:id}),instance.origin);if(timeout)setTimeout(timeoutCallback,timeout);return{abort:pmxdr.requests[id].remove}}};pmxdr.requests={aborted:{},clear:function(){pmxdr.requests={aborted:{},clear:this.clear}}};function pmxdrResponseHandler(evt){try{var data=JSON.parse(evt.data)}catch(e){return}if(data.pmxdr==true){if(pmxdr.requests[data.id]&&pmxdr.requests[data.id].origin==evt.origin&&typeof pmxdr.requests[data.id].callback=="function"&&!pmxdr.requests.aborted[data.id])pmxdr.requests[data.id].callback(data);else if(pmxdr.requests.aborted[data.id]){delete pmxdr.requests.aborted[data.id];if(data.id in pmxdr.requests)delete pmxdr.requests[data.id]}}}if(window.addEventListener)window.addEventListener("message",pmxdrResponseHandler,false);else if(window.attachEvent)window.attachEvent("onmessage",pmxdrResponseHandler);pmxdr.destruct=function(){if(window.removeEventListener)window.removeEventListener("message",pmxdrResponseHandler,false);else if(window.detachEvent)window.detachEvent("onmessage",pmxdrResponseHandler);delete window.pmxdr;delete pmxdrResponseHandler};window.pmxdr=pmxdr})()},{}],4:[function(require,module,exports){if(typeof JSON!=="object"){this.JSON={}}if(!JSON.parse){eval('JSON.parse=function(){function e(e,r,t){return r?i[r]:String.fromCharCode(parseInt(t,16))}var r="(?:-?\\\\b(?:0|[1-9][0-9]*)(?:\\\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\\\b)",t=\'(?:[^\\\\0-\\\\x08\\\\x0a-\\\\x1f"\\\\\\\\]|\\\\\\\\(?:["/\\\\\\\\bfnrt]|u[0-9A-Fa-f]{4}))\';t=\'(?:"\'+t+\'*")\';var a=RegExp("(?:false|true|null|[\\\\{\\\\}\\\\[\\\\]]|"+r+"|"+t+")","g"),n=RegExp("\\\\\\\\(?:([^u])|u(.{4}))","g"),i={\'"\':\'"\',"/":"/","\\\\":"\\\\",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"	"},f=new String(""),l=Object.hasOwnProperty;return function(r,t){r=r.match(a);var i,o=r[0],h=!1;"{"===o?i={}:"["===o?i=[]:(i=[],h=!0);for(var s,c=[i],u=1-h,g=r.length;g>u;++u){o=r[u];var v;switch(o.charCodeAt(0)){default:v=c[0],v[s||v.length]=+o,s=void 0;break;case 34:if(o=o.substring(1,o.length-1),-1!==o.indexOf("\\\\")&&(o=o.replace(n,e)),v=c[0],!s){if(!(v instanceof Array)){s=o||f;break}s=v.length}v[s]=o,s=void 0;break;case 91:v=c[0],c.unshift(v[s||v.length]=[]),s=void 0;break;case 93:c.shift();break;case 102:v=c[0],v[s||v.length]=!1,s=void 0;break;case 110:v=c[0],v[s||v.length]=null,s=void 0;break;case 116:v=c[0],v[s||v.length]=!0,s=void 0;break;case 123:v=c[0],c.unshift(v[s||v.length]={}),s=void 0;break;case 125:c.shift()}}if(h){if(1!==c.length)throw Error();i=i[0]}else if(c.length)throw Error();if(t){var b=function(e,r){var a=e[r];if(a&&"object"==typeof a){var n=null;for(var i in a)if(l.call(a,i)&&a!==e){var f=b(a,i);void 0!==f?a[i]=f:(n||(n=[]),n.push(i))}if(n)for(i=n.length;--i>=0;)delete a[n[i]]}return t.call(e,r,a)};i=b({"":i},"")}return i}}();')}if(!JSON.stringify){eval('(function(){function t(t){return 10>t?"0"+t:t}function e(t){return u.lastIndex=0,u.test(t)?\'"\'+t.replace(u,function(t){var e=i[t];return"string"==typeof e?e:"\\\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+\'"\':\'"\'+t+\'"\'}function n(t,u){var i,p,s,c,l,a=o,y=u[t];switch(y&&"object"==typeof y&&"function"==typeof y.toJSON&&(y=y.toJSON(t)),"function"==typeof f&&(y=f.call(u,t,y)),typeof y){case"string":return e(y);case"number":return isFinite(y)?y+"":"null";case"boolean":case"null":return y+"";case"object":if(!y)return"null";if(o+=r,l=[],"[object Array]"===Object.prototype.toString.apply(y)){for(c=y.length,i=0;c>i;i+=1)l[i]=n(i,y)||"null";return s=0===l.length?"[]":o?"[\\n"+o+l.join(",\\n"+o)+"\\n"+a+"]":"["+l.join(",")+"]",o=a,s}if(f&&"object"==typeof f)for(c=f.length,i=0;c>i;i+=1)"string"==typeof f[i]&&(p=f[i],s=n(p,y),s&&l.push(e(p)+(o?": ":":")+s));else for(p in y)Object.prototype.hasOwnProperty.call(y,p)&&(s=n(p,y),s&&l.push(e(p)+(o?": ":":")+s));return s=0===l.length?"{}":o?"{\\n"+o+l.join(",\\n"+o)+"\\n"+a+"}":"{"+l.join(",")+"}",o=a,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var o,r,f,u=/[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,i={"\\b":"\\\\b","	":"\\\\t","\\n":"\\\\n","\\f":"\\\\f","\\r":"\\\\r",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\"};JSON.stringify=function(t,e,u){var i;if(o="",r="","number"==typeof u)for(i=0;u>i;i+=1)r+=" ";else"string"==typeof u&&(r=u);if(f=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return n("",{"":t})}})();')}(function(undef){"use strict";var alwaysTrustedOrigins=[/^https?:\/\/[a-z\-]\.ft\.com$/i];function cleanHeader(dirty){if(typeof dirty!=="string"){return""}var clean;clean=dirty.replace(/[ \n\r\t]/g,"").toUpperCase();return clean}function getAllHeaders(request){var headers,header,i,responseHeaders;headers={};responseHeaders=request.getAllResponseHeaders().split(/\r?\n/);for(i=0;i<responseHeaders.length;i+=1){header=responseHeaders[i].split(": ");headers[header[0].toLowerCase()]=header[1]}return headers}function getHeader(request,name){try{return request.getResponseHeader(name)}catch(e){return""}}function getCorsHeaders(request){return{origin:getHeader(request,"Access-Control-Allow-Origin"),methods:getHeader(request,"Access-Control-Allow-Methods")}}function isAllowedMethod(method,headerValue){headerValue=cleanHeader(headerValue);if(!headerValue||headerValue==="*"){return true}headerValue=","+headerValue+",";if(headerValue.indexOf(","+method+",")!==-1){return true}return false}function isAlwaysTrusted(origin){var i,isTrusted;for(i=0;i<alwaysTrustedOrigins.length;i+=1){if(alwaysTrustedOrigins[i]instanceof RegExp){isTrusted=alwaysTrustedOrigins[i].test(origin)}else if(typeof alwaysTrustedOrigins[i]==="string"){isTrusted=origin===alwaysTrustedOrigins[i]}if(isTrusted){return true}}return false}function isTrustedOrigin(origin,headerValue){origin=origin.toUpperCase();if(isAlwaysTrusted(origin)){return true}headerValue=cleanHeader(headerValue);if(headerValue==="*"||headerValue===origin){return true}return false}function makeRequest(method,uri,headers,data,callback){var header,request;request=new XMLHttpRequest;request.open(method,uri,true);if(headers){for(header in headers){if(headers.hasOwnProperty(header)){request.setRequestHeader(header,headers[header])}}}if(typeof data==="string"){request.send(data)}else{request.send(null)}if(callback){request.onreadystatechange=function(){if(request.readyState!==4){return}callback(request)}}return request}if(window.opera!==undef){if(parseInt(window.opera.version(),10)===9){Event.prototype.__defineGetter__("origin",function(){return"http://"+this.domain})}}function pmxdrRequestHandler(evt){var data,optionsCorsHeaders,origin,source,reply;function sendReply(response){source.postMessage(JSON.stringify(response),origin)}function replyError(code){reply.error=code;sendReply(reply)}function handleResponse(request){var corsHeaders;if(request.readyState!==4){return}reply.status=request.status;reply.statusText=request.statusText;if(!request.status){replyError("LOAD_ERROR");return}if(request.status===1223){reply.status=204;reply.statusText="No Content";corsHeaders=optionsCorsHeaders}else{corsHeaders=getCorsHeaders(request)}if(!isTrustedOrigin(origin,corsHeaders.origin)){replyError("DISALLOWED_ORIGIN");return}if(!isAllowedMethod(data.method,corsHeaders.methods)){replyError("DISALLOWED_REQUEST_METHOD");return}reply.data=request.responseText;reply.headers=getAllHeaders(request);sendReply(reply)}source=evt.source;origin=evt.origin;try{data=JSON.parse(evt.data)}catch(e){return}if(typeof data!=="object"||data.pmxdr!==true){return}reply={pmxdr:true};if(data.id!==undef){reply.id=data.id}if(typeof data.method==="string"){data.method=data.method.toUpperCase()}makeRequest("OPTIONS",data.uri,data.headers,null,function(optionsRequest){optionsCorsHeaders=getCorsHeaders(optionsRequest);if(data.method==="OPTIONS"){handleResponse(optionsRequest);return}makeRequest(data.method,data.uri,data.headers,data.data,handleResponse)})}if(window.addEventListener){window.addEventListener("message",pmxdrRequestHandler,false)}else if(window.attachEvent){window.attachEvent("onmessage",pmxdrRequestHandler)}window.pmxdrRequestHandler=pmxdrRequestHandler})()},{}]},{},[2]);